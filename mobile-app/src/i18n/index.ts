import * as Localization from "expo-localization"
import i18n from "i18next"
import { initReactI18next } from "react-i18next"

const resources = {
  en: {
    translation: {
      nav: { home: "Home", report: "Report", map: "Map" },
      home: { title: "Community Reporting", subtitle: "Share hazard reports, view live hotspots and alerts." },
      report: {
        title: "New Report",
        subtitle: "Capture media, add location and submit with consent.",
        form: {
          category: "Category",
          categoryOption: "Category: {{category}}",
          severity: "Severity",
          severityOption: "Severity: {{severity}}",
          notes: "Notes",
          notesPlaceholder: "Describe what you see…",
          media: "Media",
          takePhoto: "Take photo",
          pickLibrary: "Pick from library",
          location: "Location",
          useLocation: "Use my location",
          noLocation: "No location yet",
          consentLabel: "I consent to share this report publicly",
          submit: "Submit",
          submitting: "Submitting…",
          syncNow: "Sync now",
        },
        offlineQueuedTitle: "Saved Offline",
        offlineQueuedBody: "No connection. Your report was queued and will sync when you tap Sync now.",
        submittedTitle: "Report Submitted",
        submittedBody: "Thanks for your report.",
        syncDoneTitle: "Sync Complete",
        syncDoneBody: "{{count}} report(s) sent.",
        syncNoneTitle: "Nothing to Sync",
        syncNoneBody: "No queued reports found.",
        validation: {
          title: "Incomplete",
          consent: "Please accept the consent to submit.",
          location: "Please add your location.",
          mediaTooLargeTitle: "File too large",
          mediaTooLargeBody: "One or more files exceed the {{limitMB}} MB limit.",
        },
        perms: {
          cameraDeniedTitle: "Camera Permission",
          cameraDeniedBody: "Please allow camera access to take photos.",
          mediaDeniedTitle: "Media Library Permission",
          mediaDeniedBody: "Please allow photo library access to pick images.",
          locationDeniedTitle: "Location Permission",
          locationDeniedBody: "Please allow location access to include coordinates.",
        },
      },
      map: { title: "Map Dashboard", subtitle: "View reports, hotspots and alerts nearby." },
    },
  },
  es: {
    translation: {
      nav: { home: "Inicio", report: "Reporte", map: "Mapa" },
      home: { title: "Reporte Comunitario", subtitle: "Comparte reportes y ve zonas críticas y alertas." },
      report: {
        title: "Nuevo Reporte",
        subtitle: "Captura medios, agrega ubicación y envía con consentimiento.",
        form: {
          category: "Categoría",
          categoryOption: "Categoría: {{category}}",
          severity: "Severidad",
          severityOption: "Severidad: {{severity}}",
          notes: "Notas",
          notesPlaceholder: "Describe lo que ves…",
          media: "Medios",
          takePhoto: "Tomar foto",
          pickLibrary: "Elegir de la galería",
          location: "Ubicación",
          useLocation: "Usar mi ubicación",
          noLocation: "Sin ubicación aún",
          consentLabel: "Consiento compartir este reporte públicamente",
          submit: "Enviar",
          submitting: "Enviando…",
          syncNow: "Sincronizar",
        },
        offlineQueuedTitle: "Guardado sin conexión",
        offlineQueuedBody: "Sin conexión. Tu reporte quedó en cola y se enviará al sincronizar.",
        submittedTitle: "Reporte enviado",
        submittedBody: "Gracias por tu reporte.",
        syncDoneTitle: "Sincronización completa",
        syncDoneBody: "Se enviaron {{count}} reporte(s).",
        syncNoneTitle: "Nada para sincronizar",
        syncNoneBody: "No hay reportes en cola.",
        validation: {
          title: "Incompleto",
          consent: "Acepta el consentimiento para enviar.",
          location: "Agrega tu ubicación.",
          mediaTooLargeTitle: "Archivo demasiado grande",
          mediaTooLargeBody: "Uno o más archivos superan el límite de {{limitMB}} MB.",
        },
        perms: {
          cameraDeniedTitle: "Permiso de cámara",
          cameraDeniedBody: "Permite acceso a la cámara para tomar fotos.",
          mediaDeniedTitle: "Permiso de galería",
          mediaDeniedBody: "Permite acceso a la galería para elegir imágenes.",
          locationDeniedTitle: "Permiso de ubicación",
          locationDeniedBody: "Permite acceso a la ubicación para incluir coordenadas.",
        },
      },
      map: { title: "Panel de Mapa", subtitle: "Ver reportes, zonas críticas y alertas cercanas." },
    },
  },
  fr: {
    translation: {
      nav: { home: "Accueil", report: "Rapport", map: "Carte" },
      home: {
        title: "Signalements Communautaires",
        subtitle: "Partagez des signalements et voyez les zones critiques et alertes.",
      },
      report: {
        title: "Nouveau Signalement",
        subtitle: "Capturez des médias, ajoutez la position et soumettez avec consentement.",
        form: {
          category: "Catégorie",
          categoryOption: "Catégorie : {{category}}",
          severity: "Gravité",
          severityOption: "Gravité : {{severity}}",
          notes: "Notes",
          notesPlaceholder: "Décrivez ce que vous voyez…",
          media: "Médias",
          takePhoto: "Prendre une photo",
          pickLibrary: "Choisir depuis la galerie",
          location: "Localisation",
          useLocation: "Utiliser ma localisation",
          noLocation: "Pas encore de localisation",
          consentLabel: "J’accepte de partager ce signalement publiquement",
          submit: "Envoyer",
          submitting: "Envoi…",
          syncNow: "Synchroniser",
        },
        offlineQueuedTitle: "Enregistré hors ligne",
        offlineQueuedBody: "Pas de connexion. Votre signalement sera envoyé lors de la synchronisation.",
        submittedTitle: "Signalement envoyé",
        submittedBody: "Merci pour votre signalement.",
        syncDoneTitle: "Synchronisation terminée",
        syncDoneBody: "{{count}} signalement(s) envoyé(s).",
        syncNoneTitle: "Rien à synchroniser",
        syncNoneBody: "Aucun signalement en file d’attente.",
        validation: {
          title: "Incomplet",
          consent: "Veuillez accepter le consentement pour envoyer.",
          location: "Veuillez ajouter votre localisation.",
          mediaTooLargeTitle: "Fichier trop volumineux",
          mediaTooLargeBody: "Un ou plusieurs fichiers dépassent la limite de {{limitMB}} Mo.",
        },
        perms: {
          cameraDeniedTitle: "Permission caméra",
          cameraDeniedBody: "Autorisez l’accès à la caméra pour prendre des photos.",
          mediaDeniedTitle: "Permission bibliothèque",
          mediaDeniedBody: "Autorisez l’accès aux photos pour choisir des images.",
          locationDeniedTitle: "Permission localisation",
          locationDeniedBody: "Autorisez l’accès à la localisation pour inclure des coordonnées.",
        },
      },
      map: { title: "Tableau de Carte", subtitle: "Voir les signalements, zones chaudes et alertes à proximité." },
    },
  },
}

const lng = Localization.getLocales()?.[0]?.languageCode || "en"

i18n.use(initReactI18next).init({
  compatibilityJSON: "v3",
  resources,
  lng,
  fallbackLng: "en",
  interpolation: { escapeValue: false },
})

export default i18n
